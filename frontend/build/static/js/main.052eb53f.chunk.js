(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(14),r=a.n(c),s=(a(21),a(10)),m=a(3);function o(e){let{children:t,className:a,...n}=e;return l.a.createElement("button",Object.assign({className:"btn "+a},n),t)}function u(e){let{className:t,...a}=e;return l.a.createElement("input",Object.assign({className:"input "+t},a))}function i(e){let{children:t,className:a}=e;return l.a.createElement("div",{className:"card "+a},t)}function d(e){let{children:t}=e;return l.a.createElement("div",{className:"card-header"},t)}function h(e){let{children:t}=e;return l.a.createElement("h2",{className:"card-title"},t)}function E(e){let{children:t}=e;return l.a.createElement("div",{className:"card-content"},t)}var g=a(28);function p(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)(!1),p=Object(m.o)();return l.a.createElement("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center"},l.a.createElement(i,{className:"w-[350px]"},l.a.createElement(d,null,l.a.createElement(h,{className:"text-2xl font-bold text-center"},"Charity Fund Authentication")),l.a.createElement(E,null,r?l.a.createElement("div",{className:"space-y-4"},l.a.createElement(u,{type:"text",placeholder:"Enter verification code",value:a,onChange:e=>c(e.target.value)}),l.a.createElement(o,{className:"w-full",onClick:async()=>{try{const t=await g.a.post("http://localhost:8000/api/auth/verify-code/",{phone_number:e,code:a});localStorage.setItem("accessToken",t.data.access),localStorage.setItem("refreshToken",t.data.refresh),localStorage.setItem("userId",t.data.user_id),p("/home")}catch(t){alert("Verification failed.")}}},"Verify Code")):l.a.createElement("div",{className:"space-y-4"},l.a.createElement(u,{type:"tel",placeholder:"Enter your phone number",value:e,onChange:e=>t(e.target.value)}),l.a.createElement(o,{className:"w-full",onClick:async()=>{try{await g.a.post("http://localhost:8000/api/auth/send-code/",{phone_number:e}),s(!0)}catch(t){alert("Failed to send verification code.")}}},"Send Verification Code")))))}function f(e){let{open:t,onOpenChange:a,children:n}=e;return t?l.a.createElement("div",{className:"dialog-overlay",onClick:()=>a(!1)},l.a.createElement("div",{className:"dialog-content",onClick:e=>e.stopPropagation()},n)):null}function b(e){let{children:t}=e;return l.a.createElement("div",null,t)}function N(e){let{children:t}=e;return l.a.createElement("div",{className:"dialog-header"},t)}function v(e){let{children:t}=e;return l.a.createElement("h3",null,t)}function x(e){let{id:t,checked:a,onCheckedChange:n}=e;return l.a.createElement("input",{type:"checkbox",id:t,checked:a,onChange:e=>n(e.target.checked)})}function y(e){let{value:t,className:a}=e;return l.a.createElement("div",{className:"progress-bar "+a},l.a.createElement("div",{className:"progress-bar-fill",style:{width:t+"%"}}))}var C=a(29);function S(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(!1),[r,s]=Object(n.useState)(""),[m,p]=Object(n.useState)(!1),[S,k]=Object(n.useState)(0),[w,j]=Object(n.useState)(""),[O,F]=Object(n.useState)(""),[_,I]=Object(n.useState)(0);localStorage.getItem("userId"),localStorage.getItem("accessToken");Object(n.useEffect)(()=>{g.a.get("http://localhost:8000/api/admin/fund-settings/").then(e=>{j(e.data.info_text),F(e.data.fund_name),I(e.data.fund_goal);const t=e.data.total_raised/e.data.fund_goal*100;k(t)}).catch(e=>{console.error("Failed to fetch fund settings:",e)})},[]);return l.a.createElement("div",{className:"min-h-screen bg-gray-100"},l.a.createElement("header",{className:"bg-white shadow-sm"},l.a.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},l.a.createElement("h1",{className:"text-2xl font-bold"},"Charity Fund"),l.a.createElement(o,{variant:"ghost",onClick:()=>t(!0)},l.a.createElement(C.a,{className:"h-6 w-6"})))),l.a.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},l.a.createElement(i,null,l.a.createElement(d,null,l.a.createElement(h,null,"Make a Payment")),l.a.createElement(E,null,l.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),c(!0)},className:"space-y-4"},l.a.createElement(u,{type:"number",placeholder:"Amount",value:r,onChange:e=>s(e.target.value),required:!0}),l.a.createElement("div",{className:"flex items-center space-x-2"},l.a.createElement(x,{id:"recurring",checked:m,onCheckedChange:e=>p(e)}),l.a.createElement("label",{htmlFor:"recurring"},"Set up recurring payment")),l.a.createElement(o,{type:"submit",className:"w-full"},"Pay")))),l.a.createElement(i,null,l.a.createElement(d,null,l.a.createElement(h,null,"Information")),l.a.createElement(E,null,l.a.createElement("p",null,w)))),l.a.createElement(i,{className:"mt-8"},l.a.createElement(d,null,l.a.createElement(h,null,O)),l.a.createElement(E,null,l.a.createElement(y,{value:S,className:"w-full"}),l.a.createElement("p",{className:"mt-2 text-center"},S.toFixed(2),"% of the target amount raised")))),l.a.createElement(f,{open:e,onOpenChange:t},l.a.createElement(b,null,l.a.createElement(N,null,l.a.createElement(v,null,"Profile")),l.a.createElement("div",{className:"space-y-4"},l.a.createElement(o,{className:"w-full"},"Change Phone Number"),l.a.createElement(o,{className:"w-full"},"Change Payment Details"),l.a.createElement(o,{variant:"destructive",className:"w-full"},"Delete Account")))))}function k(e){let{className:t,...a}=e;return l.a.createElement("textarea",Object.assign({className:"textarea "+t},a))}function w(e){let{checked:t,onCheckedChange:a}=e;return l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",checked:t,onChange:e=>a(e.target.checked)}),l.a.createElement("span",{className:"slider"}))}function j(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[r,s]=Object(n.useState)(""),[m,p]=Object(n.useState)(!0),f=localStorage.getItem("accessToken");Object(n.useEffect)(()=>{g.a.get("http://localhost:8000/api/admin/fund-settings/",{headers:{Authorization:"Bearer "+f}}).then(e=>{t(e.data.info_text),c(e.data.fund_name),s(e.data.fund_goal),p(e.data.show_progress_bar)}).catch(e=>{console.error("Failed to fetch fund settings:",e)})},[f]);return l.a.createElement("div",{className:"min-h-screen bg-gray-100 p-8"},l.a.createElement("h1",{className:"text-3xl font-bold mb-8"},"Admin Dashboard"),l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8"},l.a.createElement(i,null,l.a.createElement(d,null,l.a.createElement(h,null,"Update Fund Information")),l.a.createElement(E,null,l.a.createElement(k,{placeholder:"Enter fund information",value:e,onChange:e=>t(e.target.value),className:"mb-4"}),l.a.createElement(o,{onClick:()=>{g.a.post("http://localhost:8000/api/admin/update-info/",{info_text:e},{headers:{Authorization:"Bearer "+f}}).then(()=>{alert("Fund info updated.")}).catch(e=>{alert("Failed to update fund info.")})},className:"w-full"},"Update Fund Info"))),l.a.createElement(i,null,l.a.createElement(d,null,l.a.createElement(h,null,"Manage Fund Settings")),l.a.createElement(E,null,l.a.createElement(u,{placeholder:"Fund name",value:a,onChange:e=>c(e.target.value),className:"mb-4"}),l.a.createElement(u,{type:"number",placeholder:"Fundraising goal",value:r,onChange:e=>s(e.target.value),className:"mb-4"}),l.a.createElement("div",{className:"flex items-center justify-between mb-4"},l.a.createElement("span",null,"Show progress bar"),l.a.createElement(w,{checked:m,onCheckedChange:p})),l.a.createElement(o,{onClick:()=>{g.a.post("http://localhost:8000/api/admin/update-settings/",{fund_name:a,fund_goal:r,show_progress_bar:m},{headers:{Authorization:"Bearer "+f}}).then(()=>{alert("Fund settings updated.")}).catch(e=>{alert("Failed to update fund settings.")})},className:"w-full"},"Update Fund Settings")))))}var O=function(){return l.a.createElement(s.a,null,l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/",element:l.a.createElement(p,null)}),l.a.createElement(m.a,{path:"/home",element:l.a.createElement(S,null)}),l.a.createElement(m.a,{path:"/admin",element:l.a.createElement(j,null)})))};var F=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null))),F()}},[[15,1,2]]]);
//# sourceMappingURL=main.052eb53f.chunk.js.map